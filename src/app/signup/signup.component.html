<div class="row">
  <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset1 col-md-offset-2">
    
    <div *ngIf="status=='new'" class="form-group">
      <h1>Sign Up</h1>
      
      <form (ngSubmit)="onSubmit(f)" #f="ngForm"  autocomplete="on">
        <div class="form-group">
          <label for="email">Email</label>

          <div class="input-group">                
          <input required email id="email" name="email" autocomplete='email' ngModel class="form-control">
          </div> 
        </div>

        <div class="form-group">
          <label for="password">Password</label>

          <div class="input-group">
          <input required password type="password" id="password" name="password" autocomplete='current-password' ngModel class="form-control">
          </div>            
        </div> 

        <div class="form-group">
          <label for="firstname">First Name</label>

          <div class="input-group">
          <input required id="firstname" name="firstname" autocomplete='given-name' ngModel class="form-control">
          </div>
        </div>
        
        <div class="form-group">
          <label for="lastname">Last Name</label>

          <div class="input-group">            
          <input required id="lastname" name="lastname" autocomplete='family-name' ngModel class="form-control">
          </div>            
        </div>

        <div *ngIf="message" class="alert alert-danger" role="alert">
            {{ message }}
        </div> 
                   
        <button [disabled]="!f.valid" class="btn btn-primary" type="submit">Sign Up</button>
      </form>   
      <div>
            <a routerLink="/signin">Got a login? Sign In here!</a>
      </div>  
      
      <button (click)="searchEmails()" class="btn btn-primary" type="button">Search Emails</button>

    </div> <!-- end of status new -->         

    <div *ngIf="status=='confirm'" class="form-group">
      <h1>Your user has been registered!</h1>
      <p>
        Your user has been registered and an email has been sent to the previous email address.
      </p>      
      <p>
        Please open this email and click the verify link to complete the sign up process.
      </p>

    </div> <!-- end of status new -->    
  
    <div *ngIf="status=='newpassword'" class="form-group">
      <h1>Update Details</h1>
      <p>Please enter the following details for {{ signUpEmail }}</p>
      <form (ngSubmit)="onSubmit(f)" #f="ngForm"  autocomplete="on"> 

        <div class="form-group">
          <label for="firstname">First Name</label>
          <input required id="firstname" name="firstname" ngModel class="form-control">
        </div>
        
        <div class="form-group">
          <label for="lastname">Last Name</label>         
          <input required id="lastname" name="lastname" ngModel class="form-control">
        </div>          
    
        <div class="form-group">
          <label for="newpassword">New Password</label>
          <input required password type="password" id="password" name="password" ngModel class="form-control">
        </div>            

        <div class="form-group">        
          <label for="newpassword">Confirm Password</label>
          <input required password type="password" id="newpassword" name="newpassword" ngModel class="form-control">
        </div>            
        
        <div *ngIf="message" class="alert alert-danger" role="alert">
          {{ message }}
        </div>      
          
        <button [disabled]="!f.valid" class="btn btn-primary" type="submit">Sign Up</button>

      </form>        
    </div> <!-- end of status newpassword -->    

    <div *ngIf="status=='completed'" class="form-group">
      <h1>Sign Up Completed</h1>
      <p>
        You user registion is now completed.<br>
        Please <a routerLink="/signin/{{ signUpEmail }}" href="#">sign in</a> with your email and new password.
      </p>

    </div> <!-- end of status new -->    



  </div>

</div>

